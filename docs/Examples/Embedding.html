<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>OAIAPI - Embeddings Capability | OAIAPI </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="OAIAPI - Embeddings Capability | OAIAPI ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/gslf/OAIAPI/blob/main/Examples/Embedding.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="OAIAPI">
            OAIAPI
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="oaiapi---embeddings-capability">OAIAPI - Embeddings Capability</h1>

<h2 id="namespace">Namespace</h2>
<p><code>Promezio.OAIAPI.Capabilities.Embedding</code></p>
<h2 id="summary">Summary</h2>
<p>This class enables developers to interact with the &quot;Embeddings&quot; capability of the Promezio OAI API. This capability generates numerical representations, called embeddings, for given text inputs. These embeddings capture the semantic meaning of the text and can be used in various applications like machine learning and natural language processing.</p>
<p>The Embeddings class provides a single method, Create, which takes two arguments:</p>
<ul>
<li>input: An array of text strings for which embeddings will be generated. Each string should be less than 2048 characters long.</li>
<li>config: An EmbeddingsConfig object specifying options for the embedding generation, such as the desired model, encoding format, and user information (optional).</li>
</ul>
<p>The Create method performs the following actions:</p>
<ol>
<li>Validates input: It checks if the input array length exceeds the limit and throws an ArgumentException if it does.</li>
<li>Prepares HTTP request: It builds a JSON payload containing the input, configuration, and API key. It then sets up an HTTP client and configures the request headers for authentication.</li>
<li>Sends request and handles response: It sends a POST request to the API endpoint and validates the response status code. If successful, it parses the JSON response into an EmbeddingResponse object containing the generated embeddings. If unsuccessful, it throws an HttpRequestException.</li>
<li>Logs information: It logs messages throughout the process for debugging and monitoring purposes.</li>
</ol>
<p>Overall, the Embeddings class offers a convenient way to leverage the Promezio OAI API for text embedding generation. It handles authentication, request construction, response parsing, and error handling, allowing developers to focus on integrating embeddings into their applications.</p>
<h2 id="examples">Examples</h2>
<pre><code class="lang-csharp">// Retrieve the API Key
 Configuration = new ConfigurationBuilder()
    .AddUserSecrets&lt;Test&gt;()
    .Build();

if (Configuration == null) {
    throw new NullReferenceException(&quot;User Secrets configuration not found.&quot;); 
}

string myapikey = Configuration[&quot;OpenAIApiKey&quot;] ?? throw new InvalidOperationException(&quot;API Key not found&quot;);


// Init OAIAPI Class
OAIAPI api = new OAIAPI(myapikey);

// Obtain embeddings
EmbeddingsConfig config = new EmbeddingsConfig(AvailableEmbeddingsModels.EMBEDDING_ADA);
EmbeddingResponse? response = await api.Embeddings.Create([&quot;Test Sentence1&quot;, &quot;Test Sentence2&quot;], config);

</code></pre>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/gslf/OAIAPI/blob/main/Examples/Embedding.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
